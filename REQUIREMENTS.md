# リマインダーアプリ要件定義書

## 1. アプリ概要

### 1.1 アプリ名
タスクリマインダー（仮）

### 1.2 目的
薬の飲み忘れ防止を主目的とした、しつこいリマインド機能付きタスク管理アプリ

### 1.3 プラットフォーム
- Android (Expo React Native)
- iOS (将来的に対応)

## 2. 機能要件

### 2.1 タスク管理機能

#### 2.1.1 タスク作成
- **タスク名**: 自由入力テキスト（例：「朝の薬を飲む」）
- **実行時刻**: 時間選択（例：08:00, 12:00, 20:00）
- **実行曜日**: 複数選択可能（月〜日）
- **繰り返し設定**: 毎日、特定曜日のみ
- **リマインド間隔**: 未完了時の再通知間隔（5分、10分、15分、30分、60分）

#### 2.1.2 タスク一覧表示
- 今日のタスク一覧
- 完了/未完了ステータス表示
- 次回実行予定時刻表示
- 曜日別タスク表示

#### 2.1.3 タスク実行
- チェックボックスでの完了マーク
- 完了時刻記録
- 完了後はその日の該当タスクの通知停止

### 2.2 プッシュ通知機能

#### 2.2.1 初回通知
- 設定時刻にプッシュ通知送信
- 通知タイトル：タスク名
- 通知内容：「実行時刻になりました」

#### 2.2.2 リマインド通知
- 未完了タスクに対して設定間隔で再通知
- 通知内容：「まだ完了していません」
- 完了するまで継続

#### 2.2.3 通知設定
- 通知音選択
- バイブレーション設定
- 通知の優先度設定（高）

### 2.3 データ管理機能

#### 2.3.1 タスク履歴
- 完了履歴の保存（最大30日分）
- 達成率の表示
- カレンダービューでの履歴表示

#### 2.3.2 データ永続化
- ローカルストレージ（AsyncStorage）
- アプリ削除時まで保持

## 3. 非機能要件

### 3.1 パフォーマンス
- アプリ起動時間：3秒以内
- 通知送信の遅延：1秒以内
- データ読み込み：1秒以内

### 3.2 可用性
- バックグラウンド動作での通知機能
- アプリ終了状態でも通知送信
- 端末再起動後の自動復旧

### 3.3 ユーザビリティ
- 直感的なUI/UX
- 大きなタップ領域
- 高齢者でも使いやすいデザイン

## 4. 画面構成

### 4.1 メイン画面（ホーム）
- 今日のタスク一覧
- 完了チェックボックス
- 次回予定時刻表示
- 新規タスク追加ボタン

### 4.2 タスク作成/編集画面
- タスク名入力
- 時刻設定
- 曜日選択
- リマインド間隔設定
- 保存/キャンセルボタン

### 4.3 設定画面
- 通知設定
- 表示設定
- データ管理（履歴削除等）

### 4.4 履歴画面
- カレンダービュー
- 達成率表示
- 詳細履歴リスト

## 5. 技術仕様

### 5.1 開発環境
- **フレームワーク**: Expo SDK 53
- **言語**: TypeScript
- **ナビゲーション**: Expo Router
- **UI**: React Native標準コンポーネント + カスタムコンポーネント

### 5.2 主要ライブラリ
- **通知**: expo-notifications
- **ストレージ**: @react-native-async-storage/async-storage
- **日時処理**: date-fns または dayjs
- **状態管理**: React Hooks (useState, useContext)
- **フォーム**: React Hook Form（必要に応じて）

### 5.3 権限要件
- プッシュ通知権限
- バックグラウンド実行権限（Android）

## 6. 想定ユーザージャーニー

### 6.1 初回利用
1. アプリインストール・起動
2. 通知権限の許可
3. 初回タスク作成（例：朝の薬 08:00）
4. 設定完了

### 6.2 日常利用
1. 08:00に通知受信
2. 薬を飲んで完了チェック
3. または忘れて10分後に再通知
4. 完了まで継続

### 6.3 管理・確認
1. 履歴画面で達成率確認
2. 必要に応じてタスク編集
3. 新しいタスク追加

## 7. 実装優先度

### 7.1 Phase 1 (MVP)
- 基本的なタスク作成・編集・削除
- 時刻指定プッシュ通知
- 完了チェック機能
- 簡単なタスク一覧表示

### 7.2 Phase 2
- リマインド機能（繰り返し通知）
- 曜日指定機能
- 通知設定カスタマイズ

### 7.3 Phase 3
- 履歴表示・統計機能
- UI/UXの改善
- パフォーマンス最適化

## 8. リスク・制約事項

### 8.1 技術的リスク
- Androidのバッテリー最適化による通知停止
- バックグラウンド実行制限
- 端末固有の通知動作差異

### 8.2 対応策
- 電池最適化の除外設定案内
- フォアグラウンドサービス利用検討
- 端末別テスト実施

## 9. 成果指標

### 9.1 定量指標
- タスク完了率：80%以上
- 通知への反応率：90%以上
- アプリ継続利用率：1ヶ月で70%以上

### 9.2 定性指標
- ユーザビリティテストでの満足度
- 薬の飲み忘れ頻度の減少
- 操作の簡単さに関するフィードバック